version: 1
metadata:
  name: Stepstone Job Search MCP Server
  description: >-
    Model Context Protocol server that runs Stepstone.de job searches and
    fetches detailed listings for MCP clients.
runtime: python
build:
  python:
    version: "3.11"
    requirements:
      - requirements.txt

# Hosted environments require CORS-friendly HTTP transports, so expose the
# MCP implementation through the bundled Starlette adapter instead of the
# raw STDIO entry point.
startCommand:
  type: http
  command: python
  args:
    - stepstone_http_server.py

# Session configuration documented at
# https://smithery.ai/docs/build/session-config. Providing it inline keeps the
# primary configuration self-contained while still allowing external files for
# local overrides.
sessionConfig:
  version: 1
  default: hosted
  profiles:
    hosted:
      transport:
        type: http
        url: http://127.0.0.1:8000/mcp
        env:
          LOG_LEVEL: INFO
          REQUEST_TIMEOUT: "10"

testProfile:
  # Inline the session configuration so Smithery's automated scanners can
  # immediately determine how to execute the server during validation.
  sessionConfig:
    version: 1
    default: hosted
    profiles:
      hosted:
        transport:
          type: http
          url: http://127.0.0.1:8000/mcp
          env:
            LOG_LEVEL: INFO
            REQUEST_TIMEOUT: "10"
